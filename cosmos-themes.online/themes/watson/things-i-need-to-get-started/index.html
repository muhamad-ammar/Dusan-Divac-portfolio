<!DOCTYPE html>
<html lang="en-US" data-random-animation="true" data-animation="animate-0">
  <!-- Mirrored from cosmos-themes.online/themes/watson/things-i-need-to-get-started/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 23 Nov 2021 07:42:23 GMT -->
  <!-- Added by HTTrack -->
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <!-- /Added by HTTrack -->
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="profile" href="https://gmpg.org/xfn/11">
    <link media="all" href="../wp-content/cache/autoptimize/css/autoptimize_4a3a25c402079694a1e90497bce44892.css" rel="stylesheet" />
    <title>DUSAN DIVAC &#8211; Blogs</title>
    <meta name='robots' content='max-image-preview:large' />
    <link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
    <link rel='dns-prefetch' href='http://s.w.org/' />
    <link rel="alternate" type="application/rss+xml" title="Watson &raquo; Feed" href="../feed/index.html" />
    <link rel="alternate" type="application/rss+xml" title="Watson &raquo; Comments Feed" href="../comments/feed/index.html" />
    <link rel="alternate" type="application/rss+xml" title="Watson &raquo; Things I Need To Get Started Comments Feed" href="feed/index.html" />
    <script type="text/javascript">
      window._wpemojiSettings = {
        "baseUrl": "https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/",
        "ext": ".png",
        "svgUrl": "https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/",
        "svgExt": ".svg",
        "source": {
          "concatemoji": "https:\/\/cosmos-themes.online\/themes\/watson\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.2"
        }
      };
      ! function(e, a, t) {
        var n, r, o, i = a.createElement("canvas"),
          p = i.getContext && i.getContext("2d");

        function s(e, t) {
          var a = String.fromCharCode;
          p.clearRect(0, 0, i.width, i.height), p.fillText(a.apply(this, e), 0, 0);
          e = i.toDataURL();
          return p.clearRect(0, 0, i.width, i.height), p.fillText(a.apply(this, t), 0, 0), e === i.toDataURL()
        }

        function c(e) {
          var t = a.createElement("script");
          t.src = e, t.defer = t.type = "text/javascript", a.getElementsByTagName("head")[0].appendChild(t)
        }
        for (o = Array("flag", "emoji"), t.supports = {
            everything: !0,
            everythingExceptFlag: !0
          }, r = 0; r < o.length; r++) t.supports[o[r]] = function(e) {
          if (!p || !p.fillText) return !1;
          switch (p.textBaseline = "top", p.font = "600 32px Arial", e) {
            case "flag":
              return s([127987, 65039, 8205, 9895, 65039], [127987, 65039, 8203, 9895, 65039]) ? !1 : !s([55356, 56826, 55356, 56819], [55356, 56826, 8203, 55356, 56819]) && !s([55356, 57332, 56128, 56423, 56128, 56418, 56128, 56421, 56128, 56430, 56128, 56423, 56128, 56447], [55356, 57332, 8203, 56128, 56423, 8203, 56128, 56418, 8203, 56128, 56421, 8203, 56128, 56430, 8203, 56128, 56423, 8203, 56128, 56447]);
            case "emoji":
              return !s([10084, 65039, 8205, 55357, 56613], [10084, 65039, 8203, 55357, 56613])
          }
          return !1
        }(o[r]), t.supports.everything = t.supports.everything && t.supports[o[r]], "flag" !== o[r] && (t.supports.everythingExceptFlag = t.supports.everythingExceptFlag && t.supports[o[r]]);
        t.supports.everythingExceptFlag = t.supports.everythingExceptFlag && !t.supports.flag, t.DOMReady = !1, t.readyCallback = function() {
          t.DOMReady = !0
        }, t.supports.everything || (n = function() {
          t.readyCallback()
        }, a.addEventListener ? (a.addEventListener("DOMContentLoaded", n, !1), e.addEventListener("load", n, !1)) : (e.attachEvent("onload", n), a.attachEvent("onreadystatechange", function() {
          "complete" === a.readyState && t.readyCallback()
        })), (n = t.source || {}).concatemoji ? c(n.concatemoji) : n.wpemoji && n.twemoji && (c(n.twemoji), c(n.wpemoji)))
      }(window, document, window._wpemojiSettings);
    </script>
    <link rel='stylesheet' id='watson-heading-font-css' href='http://fonts.googleapis.com/css2?family=Playfair+Display%3Aital%2Cwght%400%2C400%3B0%2C500%3B0%2C600%3B0%2C700%3B0%2C800%3B0%2C900%3B1%2C400%3B1%2C500%3B1%2C600%3B1%2C700%3B1%2C800%3B1%2C900&amp;ver=1.0.0' type='text/css' media='all' />
    <link rel='stylesheet' id='watson-body-font-css' href='http://fonts.googleapis.com/css2?family=Roboto%3Aital%2Cwght%400%2C300%3B0%2C400%3B0%2C500%3B0%2C700%3B0%2C900%3B1%2C300%3B1%2C400%3B1%2C500%3B1%2C700%3B1%2C900&amp;ver=1.0.0' type='text/css' media='all' />
    <script type='text/javascript' src='../wp-includes/js/jquery/jquery.minaf6c.js?ver=3.6.0' id='jquery-core-js'></script>
    <link rel="https://api.w.org/" href="../wp-json/index.html" />
    <link rel="alternate" type="application/json" href="../wp-json/wp/v2/posts/120.json" />
    <link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" />
    <meta name="generator" content="WordPress 5.8.2" />
    <link rel="canonical" href="index.html" />
    <link rel='shortlink' href='../index2c90.html?p=120' />
    <link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embed0c92.json?url=https%3A%2F%2Fcosmos-themes.online%2Fthemes%2Fwatson%2Fthings-i-need-to-get-started%2F" />
    <link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed32b4?url=https%3A%2F%2Fcosmos-themes.online%2Fthemes%2Fwatson%2Fthings-i-need-to-get-started%2F&amp;format=xml" />
    <link rel="icon" href="../wp-content/uploads/2021/05/cropped-watson-sicon-32x32.png" sizes="32x32" />
    <link rel="icon" href="../wp-content/uploads/2021/05/cropped-watson-sicon-192x192.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="../wp-content/uploads/2021/05/cropped-watson-sicon-180x180.png" />
    <meta name="msapplication-TileImage" content="https://cosmos-themes.online/themes/watson/wp-content/uploads/2021/05/cropped-watson-sicon-270x270.png" />
  </head>
  <body class="post-template-default single single-post postid-120 single-format-standard wp-embed-responsive elementor-default elementor-kit-8">
    <div class="preloader">
      <div class="loader">
        <h4>DUSAN DIVAC</h4>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    <div id="page">
      <header>
        <div class="header-content">
          <div class="header-mobile">
            <h2>DUSAN DIVAC</h2>
          </div>
          <div class="header-main">
            <a class="header-toggle">
              <i class="menu-open fas fa-bars"></i>
              <i class="menu-close fas fa-times"></i>
            </a>
            <div class="header-main-inner" data-simplebar>
              <div class="nav-container">
                <div class="image-container">
                  <h2 class="header-name">DUSAN DIVAC</h2>
                  <img src="../wp-content/uploads/2021/05/profile-img.jpg" alt="Profile Image">
                </div>
                <nav id="primary-menu" class="nav-menu slide-menu">
                  <ul id="menu-main-menu" class="menu">
                    <li data-id="menu-item-54" class=" menu-item menu-item-type-post_type menu-item-object-page menu-item-home has-menu-icon">
                      <a href="../../../../index.html" class="no-scroll">
                        <span class='nav-menu-icon'>
                          <i class='lnr lnr-home'></i>
                        </span>Home </a>
                    </li>
                    <li data-id="menu-item-57" class=" menu-item menu-item-type-post_type menu-item-object-page has-menu-icon">
                      <a href="../../../../index.html#about" class="no-scroll">
                        <span class='nav-menu-icon'>
                          <i class='lnr lnr-user'></i>
                        </span>About Me </a>
                    </li>
                    <li data-id="menu-item-55" class=" menu-item menu-item-type-post_type menu-item-object-page has-menu-icon">
                      <a href="../../../../index.html#resume" class="no-scroll">
                        <span class='nav-menu-icon'>
                          <i class='lnr lnr-license'></i>
                        </span>Resume </a>
                    </li>
                    <li data-id="menu-item-88" class=" menu-item menu-item-type-post_type menu-item-object-page has-menu-icon">
                      <a href="../../../../index.html#portfolio" class="no-scroll">
                        <span class='nav-menu-icon'>
                          <i class='lnr lnr-briefcase'></i>
                        </span>Portfolio </a>
                    </li>
                    <li data-id="menu-item-89" class=" menu-item menu-item-type-post_type menu-item-object-page has-menu-icon">
                      <a href="../../../../index.html#blog" class="no-scroll">
                        <span class='nav-menu-icon'>
                          <i class='lnr lnr-book'></i>
                        </span>Blog </a>
                    </li>
                    <li data-id="menu-item-70" class=" menu-item menu-item-type-post_type menu-item-object-page has-menu-icon">
                      <a href="../../../../index.html#contact" class="no-scroll">
                        <span class='nav-menu-icon'>
                          <i class='lnr lnr-envelope'></i>
                        </span>Contact </a>
                    </li>
                  </ul>
                </nav>
                <div class="nav-footer">
                  <ul class="social">
                    <li>
                      <a href="#">
                        <i class="fab fa-facebook-square"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="fab fa-twitter-square"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="fab fa-youtube-square"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="fab fa-dribbble-square"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="fab fa-behance-square"></i>
                      </a>
                    </li>
                  </ul>
                  <div class="copy">
                    <p>2021 © Cosmos-Themes. <br>All Right Reserved. </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>
      <div id="sidebar">
        <div class="sidebar-button">
          <span class="icon">
            <i class="fa fa-arrow-left"></i>
          </span>
        </div>
        <div class="sidebar-content">
          <div class="sidebar-content-wrapper">
            <div id="search-2" class="watson-single-widget widget_meta widget_search">
              <form class="search-form" role="search" method="get" action="https://cosmos-themes.online/themes/watson/">
                <label>
                  <span class="screen-reader-text">Search for:</span>
                  <input type="search" class="search-field" placeholder="Search..." value="" name="s">
                </label>
                <input type="submit" class="search-submit" value="Search">
              </form>
            </div>
            <div id="recent-posts-2" class="watson-single-widget widget_meta widget_recent_entries">
              <h4 class="widget-title">Recent Posts</h4>
              <ul>
                <li>
                  <a href="../best-way-to-design/index.html">Best Way To Design</a>
                </li>
                <li>
                  <a href="index.html" aria-current="page">Things I Need To Get Started</a>
                </li>
                <li>
                  <a href="../my-current-workspace/index.html">My Current Workspace</a>
                </li>
                <li>
                  <a href="../best-place-to-travel-this-summer/index.html">Best Place To Travel This Summer</a>
                </li>
                <li>
                  <a href="../latest-ui-trends-to-inspired-from/index.html">Latest UI Trends To Inspired From</a>
                </li>
              </ul>
            </div>
            <div id="categories-3" class="watson-single-widget widget_meta widget_categories">
              <h4 class="widget-title">Categories</h4>
              <ul>
                <li class="cat-item cat-item-8">
                  <a href="../category/design/index.html">Design</a>
                </li>
                <li class="cat-item cat-item-6">
                  <a href="../category/lifestyle/index.html">Lifestyle</a>
                </li>
                <li class="cat-item cat-item-9">
                  <a href="../category/personal/index.html">Personal</a>
                </li>
                <li class="cat-item cat-item-5">
                  <a href="../category/technology/index.html">Technology</a>
                </li>
                <li class="cat-item cat-item-4">
                  <a href="../category/traveling/index.html">Traveling</a>
                </li>
                <li class="cat-item cat-item-7">
                  <a href="../category/web-design/index.html">Web Design</a>
                </li>
              </ul>
            </div>
            <div id="recent-comments-2" class="watson-single-widget widget_meta widget_recent_comments">
              <h4 class="widget-title">Recent Comments</h4>
              <ul id="recentcomments">
                <li class="recentcomments">
                  <span class="comment-author-link">Watson Admin</span> on <a href="../best-way-to-design/index.html#comment-6">Best Way To Design</a>
                </li>
                <li class="recentcomments">
                  <span class="comment-author-link">Terry K. Gaitan</span> on <a href="../best-way-to-design/index.html#comment-5">Best Way To Design</a>
                </li>
                <li class="recentcomments">
                  <span class="comment-author-link">Rebecca R. Smith</span> on <a href="../best-way-to-design/index.html#comment-4">Best Way To Design</a>
                </li>
                <li class="recentcomments">
                  <span class="comment-author-link">Randy E. Oleary</span> on <a href="../best-way-to-design/index.html#comment-3">Best Way To Design</a>
                </li>
                <li class="recentcomments">
                  <span class="comment-author-link">John Doe</span> on <a href="../best-way-to-design/index.html#comment-2">Best Way To Design</a>
                </li>
              </ul>
            </div>
            <div id="meta-3" class="watson-single-widget widget_meta widget_meta">
              <h4 class="widget-title">Meta</h4>
              <ul>
                <li>
                  <a href="../wp-login.html">Log in</a>
                </li>
                <li>
                  <a href="../feed/index.html">Entries feed</a>
                </li>
                <li>
                  <a href="../comments/feed/index.html">Comments feed</a>
                </li>
                <li>
                  <a href="https://wordpress.org/">WordPress.org</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div id="main" class="site-main">
        <div id="post-120" class="post-page post-120 post type-post status-publish format-standard has-post-thumbnail hentry category-personal tag-lifestyle tag-personal tag-process">
          <div class="post-image">
            <img src="../wp-content/uploads/2021/05/blog-2.jpg" alt="Post Image">
          </div>
          <div class="post-wrapper">
            <div class="post-container has-thumbnail">
              <div class="row">
                <div class="post-heading col-md-8 offset-md-2">
                  <div class="categories">
                    <a class="category-name" href="../category/personal/index.html">Frontend</a>
                  </div>
                  <h1 class="post-title">Using Next.js with Fauna and GraphQL</h1>
                  <span class="post-date">Sep 08, 2022</span>
                </div>
                <div class="post-content col-md-10 offset-md-1">
					<p><a href="http://nextjs.org/">Next.js</a> is a frontend framework, powered by React, which provides optimizations and tools to create fast websites. It supports both hybrid static pages, as well as dynamic, real-time content. With built-in integrations like <a href="https://nextjs.org/docs/basic-features/typescript">TypeScript</a> and <a href="https://nextjs.org/docs/basic-features/eslint">ESLint</a>, Next.js simplifies the Developer Experience (DX) and optimizes for serverless and <a href="https://nextjs.org/docs/deployment">edge deployments</a>.</p>

					<p>Next.js is not opinionated about where you store your data. It provides APIs for the developer to hook into their content, commerce, or database of choice. Since Next.js is optimized for serverless, it makes sense to pair it with a serverless database. </p>
					
					<h2>
					  <a name="why-fauna-with-nextjs" href="#why-fauna-with-nextjs">
					  </a>
					  Why Fauna with Next.js?
					</h2>
					
					<p>Fauna is a serverless, transactional database. It's flexible like NoSQL databases, with support for relational data and transactions. Plus, it has an <a href="https://fauna.com/pricing">excellent free tier</a> and is a managed service. No servers to maintain or hidden fees!</p>
					
					<p>Since it's serverless-first, you can consider Fauna "connectionless". Instead of battling connection limits, Fauna provides a database as an API, allowing developers to not worry about connection limits in serverless environments. Further, it provides a <a href="https://docs.fauna.com/fauna/current/api/graphql/">GraphQL API</a>, which simplifies creating, querying, and updating your data.</p>
					
					<h2>
					  <a name="why-vercel-with-nextjs" href="#why-vercel-with-nextjs">
					  </a>
					  Why Vercel with Next.js?
					</h2>
					
					<p><a href="http://vercel.com/">Vercel</a> is a serverless platform for static applications and frontend frameworks, providing a frictionless Developer Experience to take care of the hard things: deploy instantly, scale automatically, and serve personalized content around the globe.</p>
					
					<p>Vercel makes it easy for frontend teams to develop, preview, and ship delightful user experiences, where performance is the default. Fauna.com is built with Next.js and Vercel!</p>
					
					<p>Let's explore deploying a Next.js app using Fauna to Vercel.</p>
					
					<h2>
					  <a name="deploying-nextjs-and-fauna-to-vercel" href="#deploying-nextjs-and-fauna-to-vercel">
					  </a>
					  Deploying Next.js and Fauna to Vercel
					</h2>
					
					<p>Getting started with Fauna and Next.js only takes a few minutes, thanks to the official Next.js template and the <a href="https://vercel.com/integrations/fauna">Vercel Integration</a>. The integration will allow you to create or connect to your Fauna database, create a new key, and then add it as an <a href="https://vercel.com/docs/environment-variables">Environment Variable</a> to your Vercel project. The value will be saved as <code>FAUNA_ADMIN_KEY</code>.</p>
					
					<h3>
					  <a name="manual-installation" href="#manual-installation">
					  </a>
					  Manual Installation
					</h3>
					
					<p>Alternatively, you can start from the command line locally and clone the template using <a href="https://nextjs.org/docs/api-reference/create-next-app">create-next-app</a>.<br>
					</p>
					
					<div class="highlight js-code-highlight">
					<pre class="highlight plaintext"><code>npx create-next-app --example with-fauna with-fauna-app
					</code></pre>
					<div class="highlight__panel js-actions-panel">
					<div class="highlight__panel-action js-fullscreen-code-action">
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
						<path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
					</svg>
					
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
						<path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
					</svg>
					
					</div>
					</div>
					</div>
					
					
					
					<p>Next, <a href="https://dashboard.fauna.com/">create a database</a> and generate an admin token by going to the <strong>Security</strong> tab on the left and then click <strong>New Key</strong>. Give the new key a name and select the <strong>Admin</strong> Role. Save the token.</p>
					
					<h3>
					  <a name="setting-up-your-schema" href="#setting-up-your-schema">
					  </a>
					  Setting Up Your Schema
					</h3>
					
					<p>The Next.js and Fauna example includes a setup script (<code>npm run setup</code>). After providing your admin token, the script will:</p>
					
					<ul>
					<li>
					<strong>Import your GraphQL schema:</strong> Fauna automatically sets up collections and indexes to support your queries. You can view these in your <a href="https://dashboard.fauna.com/">project dashboard</a> under <strong>GraphQL</strong>.</li>
					<li>
					<strong>Create an index and function:</strong> The script will create a GraphQL resolver that uses <a href="https://docs.fauna.com/fauna/current/api/graphql/functions?lang=javascript">User-defined functions</a> based on a sorting index.</li>
					<li>
					<strong>Create a scoped token:</strong> This token is for use on the client side. The admin key can be used on the server side.</li>
					</ul>
					
					<p>After the script completes, a <code>.env.local</code> <a href="https://nextjs.org/docs/basic-features/environment-variables">file</a> will be created for you with the newly generated client token assigned to an Environment Variable.</p>
					
					<h2>
					  <a name="connecting-to-fauna-in-your-nextjs-application" href="#connecting-to-fauna-in-your-nextjs-application">
					  </a>
					  Connecting to Fauna in your Next.js Application
					</h2>
					
					<p>To connect to your Fauna database with GraphQL, you can use the <a href="https://github.com/prisma-labs/graphql-request">graphql-request</a> library to securely fetch or mutate data inside <code>lib/fauna.js</code>.<br>
					</p>
					
					<div class="highlight js-code-highlight">
					<pre class="highlight jsx"><code><span class="c1">// lib/fauna.js</span>
					
					<span class="k">import</span> <span class="p">{</span> <span class="nx">GraphQLClient</span><span class="p">,</span> <span class="nx">gql</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">graphql-request</span><span class="dl">'</span>
					
					<span class="kd">const</span> <span class="nx">graphQLClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GraphQLClient</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://graphql.fauna.com/graphql</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
					  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
						<span class="na">authorization</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">FAUNA_ADMIN_KEY</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
					  <span class="p">},</span>
					<span class="p">})</span>
					</code></pre>
					<div class="highlight__panel js-actions-panel">
					<div class="highlight__panel-action js-fullscreen-code-action">
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
						<path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
					</svg>
					
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
						<path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
					</svg>
					
					</div>
					</div>
					</div>
					
					
					
					<p>Alternatively, you can use the <a href="https://docs.fauna.com/fauna/current/drivers/javascript">Fauna JavaScript driver</a> to execute FQL queries in Node.js.</p>
					
					<h2>
					  <a name="querying-fauna-with-graphql" href="#querying-fauna-with-graphql">
					  </a>
					  Querying Fauna with GraphQL
					</h2>
					
					<p>Now that your GraphQL client has been created, you can query or mutate data using your secure connection.<br>
					</p>
					
					<div class="highlight js-code-highlight">
					<pre class="highlight jsx"><code><span class="c1">// lib/fauna.js</span>
					
					<span class="k">export</span> <span class="kd">const</span> <span class="nx">listGuestbookEntries</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
					  <span class="kd">const</span> <span class="nx">query</span> <span class="o">=</span> <span class="nx">gql</span><span class="s2">`
						query Entries($size: Int) {
						  entries(_size: $size) {
							data {
							  _id
							  _ts
							  name
							  message
							  createdAt
							}
						  }
						}
					  `</span>
					
					  <span class="k">return</span> <span class="nx">graphQLClient</span>
						<span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">query</span><span class="p">,</span> <span class="p">{</span> <span class="na">size</span><span class="p">:</span> <span class="mi">999</span> <span class="p">})</span>
						<span class="p">.</span><span class="nx">then</span><span class="p">(({</span> <span class="na">entries</span><span class="p">:</span> <span class="p">{</span> <span class="nx">data</span> <span class="p">}</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="nx">data</span><span class="p">)</span>
					<span class="p">}</span>
					</code></pre>
					<div class="highlight__panel js-actions-panel">
					<div class="highlight__panel-action js-fullscreen-code-action">
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
						<path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
					</svg>
					
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
						<path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
					</svg>
					
					</div>
					</div>
					</div>
					
					
					
					<h2>
					  <a name="displaying-your-fauna-data-inside-nextjs" href="#displaying-your-fauna-data-inside-nextjs">
					  </a>
					  Displaying your Fauna Data inside Next.js
					</h2>
					
					<p>Since Next.js can handle multiple rendering strategies, including static-site generation, server-side rendering, and client-side rendering, we can display our data from Fauna in many ways.</p>
					
					<h3>
					  <a name="static-site-generation" href="#static-site-generation">
					  </a>
					  Static Site Generation
					</h3>
					
					<p>Using <a href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation">getStaticProps</a> and <a href="https://nextjs.org/docs/basic-features/data-fetching#getstaticpaths-static-generation">getStaticPaths</a>, we can statically generate all of the content from our Fauna database.<br>
					</p>
					
					<div class="highlight js-code-highlight">
					<pre class="highlight jsx"><code><span class="c1">// pages/entries/[id].js</span>
					
					<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Entry</span><span class="p">({</span> <span class="nx">entry</span> <span class="p">})</span> <span class="p">{</span>
					  <span class="c1">// Render entry...</span>
					<span class="p">}</span>
					
					<span class="c1">// This function gets called at build time</span>
					<span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">getStaticPaths</span><span class="p">()</span> <span class="p">{</span>
					  <span class="c1">// Query all entries from Fauna</span>
					  <span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">listGuestbookEntries</span><span class="p">()</span>
					  <span class="kd">const</span> <span class="nx">entries</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
					
					  <span class="c1">// Get the paths we want to pre-render based on entries</span>
					  <span class="kd">const</span> <span class="nx">paths</span> <span class="o">=</span> <span class="nx">entries</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">entry</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
						<span class="na">params</span><span class="p">:</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="nx">entry</span><span class="p">[</span><span class="dl">'</span><span class="s1">_id</span><span class="dl">'</span><span class="p">]</span> <span class="p">}</span>
					  <span class="p">}))</span>
					
					  <span class="c1">// We'll pre-render only these paths at build time.</span>
					  <span class="c1">// { fallback: false } means other routes should 404.</span>
					  <span class="k">return</span> <span class="p">{</span> <span class="nx">paths</span><span class="p">,</span> <span class="na">fallback</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}</span>
					<span class="p">}</span>
					
					<span class="c1">// This also gets called at build time</span>
					<span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">getStaticProps</span><span class="p">({</span> <span class="nx">params</span> <span class="p">})</span> <span class="p">{</span>
					  <span class="c1">// params contains the key `id`.</span>
					  <span class="c1">// If the route is like /entries/1, then params.id is 1</span>
					  <span class="c1">// We could create getGuestbookEntry similar to listGuestbookEntries</span>
					  <span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getGuestbookEntry</span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
					  <span class="kd">const</span> <span class="nx">entry</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
					
					  <span class="c1">// Pass entry data to the page via props</span>
					  <span class="k">return</span> <span class="p">{</span> <span class="na">props</span><span class="p">:</span> <span class="p">{</span> <span class="nx">entry</span> <span class="p">}</span> <span class="p">}</span>
					<span class="p">}</span>
					</code></pre>
					<div class="highlight__panel js-actions-panel">
					<div class="highlight__panel-action js-fullscreen-code-action">
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
						<path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
					</svg>
					
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
						<path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
					</svg>
					
					</div>
					</div>
					</div>
					
					
					
					<h3>
					  <a name="serverside-rendering" href="#serverside-rendering">
					  </a>
					  Server-Side Rendering
					</h3>
					
					<p>If we need to fetch new data from <em>every</em> request, we can use <a href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering">getServerSideProps</a>.<br>
					</p>
					
					<div class="highlight js-code-highlight">
					<pre class="highlight jsx"><code><span class="c1">// pages/index.js</span>
					
					<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Entries</span><span class="p">({</span> <span class="nx">entries</span> <span class="p">})</span> <span class="p">{</span>
					  <span class="c1">// Render entries...</span>
					<span class="p">}</span>
					
					<span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">getServerSideProps</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
					  <span class="c1">// Query all entries from Fauna</span>
					  <span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">listGuestbookEntries</span><span class="p">()</span>
					  <span class="kd">const</span> <span class="nx">entries</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
					
					  <span class="c1">// Pass entry data to the page via props</span>
					  <span class="k">return</span> <span class="p">{</span>
						<span class="na">props</span><span class="p">:</span> <span class="p">{</span> <span class="nx">entries</span> <span class="p">}</span>
					  <span class="p">}</span>
					<span class="p">}</span>
					</code></pre>
					<div class="highlight__panel js-actions-panel">
					<div class="highlight__panel-action js-fullscreen-code-action">
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
						<path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
					</svg>
					
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
						<path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
					</svg>
					
					</div>
					</div>
					</div>
					
					
					
					<h3>
					  <a name="clientside-rendering" href="#clientside-rendering">
					  </a>
					  Client-Side Rendering
					</h3>
					
					<p>If we want to fetch data on the client-side, initially showing a loading state, we can use a React hook library like <a href="https://swr.vercel.app/">SWR</a> to simplify data fetching.<br>
					</p>
					
					<div class="highlight js-code-highlight">
					<pre class="highlight jsx"><code><span class="c1">// pages/index.js</span>
					
					<span class="k">import</span> <span class="nx">useSWR</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">swr</span><span class="dl">'</span>
					
					<span class="kd">const</span> <span class="nx">fetcher</span> <span class="o">=</span> <span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">fetch</span><span class="p">(...</span><span class="nx">args</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
					
					<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Entries</span><span class="p">()</span> <span class="p">{</span>
					  <span class="kd">const</span> <span class="p">{</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">error</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useSWR</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/entries</span><span class="dl">'</span><span class="p">,</span> <span class="nx">fetcher</span><span class="p">)</span>
					
					  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>failed to load<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
					  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">)</span> <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>loading...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
					  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>hello <span class="si">{</span><span class="nx">data</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span>!<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
					<span class="p">}</span>
					</code></pre>
					<div class="highlight__panel js-actions-panel">
					<div class="highlight__panel-action js-fullscreen-code-action">
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
						<path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
					</svg>
					
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
						<path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
					</svg>
					
					</div>
					</div>
					</div>
					
					
					
					<p>This example fetches the Fauna data from an <a href="https://nextjs.org/docs/api-routes/introduction">API Route</a>, which allows us to securely connect to Fauna on the server.<br>
					</p>
					
					<div class="highlight js-code-highlight">
					<pre class="highlight jsx"><code><span class="c1">// pages/api/entries.js</span>
					
					<span class="k">import</span> <span class="p">{</span> <span class="nx">listGuestbookEntries</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../lib/fauna</span><span class="dl">'</span>
					
					<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">handler</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
					  <span class="kd">const</span> <span class="nx">entries</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">listGuestbookEntries</span><span class="p">()</span>
					
					  <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">(</span><span class="nx">entries</span><span class="p">)</span>
					<span class="p">}</span>
					</code></pre>
					<div class="highlight__panel js-actions-panel">
					<div class="highlight__panel-action js-fullscreen-code-action">
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
						<path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
					</svg>
					
						<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
						<path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
					</svg>
					
					</div>
					</div>
					</div>
					
					
					
					<h2>
					  <a name="next-steps" href="#next-steps">
					  </a>
					  Next Steps
					</h2>
					
					<p>Try out Fauna and Next.js today and <a href="https://vercel.com/integrations/fauna">deploy to Vercel</a>. Next, you can explore:</p>
					
					<ul>
					<li>Explore Fauna's <a href="https://docs.fauna.com/fauna/current/tutorials/authentication/user.html">built-in identity and authentication</a>, which can be paired with NextAuth and their <a href="https://next-auth.js.org/adapters/fauna">built-in adapter for Fauna</a>.</li>
					<li>Learn more about <a href="https://fauna.com/blog/evolving-the-structure-of-your-fauna-database">migrating your Fauna schema</a>.</li>
					<li>Explore <a href="https://the-guild.dev/blog/graphql-codegen-plugin-typescript-swr">GraphQL code generation</a> to auto-generate <a href="https://swr.vercel.app/">SWR hooks</a>.</li>
					</ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="ajax-portfolio-popup">
      <span class="ajax-loader"></span>
      <div class="navigation-wrap">
        <span class="popup-close">
          <i class="fas fa-times-circle"></i>
        </span>
      </div>
      <div class="content-wrap">
        <div class="container">
          <div class="row">
            <div class="col-md-10 offset-md-1">
              <div class="popup-heading"></div>
              <div class="popup-content"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type='text/javascript' src='../wp-includes/js/dist/vendor/regenerator-runtime.minb36a.js?ver=0.13.7' id='regenerator-runtime-js'></script>
    <script type='text/javascript' src='../wp-includes/js/dist/vendor/wp-polyfill.min2c7c.js?ver=3.15.0' id='wp-polyfill-js'></script>
    <script type='text/javascript' id='contact-form-7-js-extra'>
      var wpcf7 = {
        "api": {
          "root": "https:\/\/cosmos-themes.online\/themes\/watson\/wp-json\/",
          "namespace": "contact-form-7\/v1"
        }
      };
    </script>
    <script defer src="../wp-content/cache/autoptimize/js/autoptimize_61962f43b02c29872a14607372d50c08.js"></script>
  </body>
  <!-- Mirrored from cosmos-themes.online/themes/watson/things-i-need-to-get-started/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 23 Nov 2021 07:42:25 GMT -->
</html>